<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="stylesheet" type="text/css" th:href="@{/css/employee.css}"/>
<link rel="stylesheet" th:href="@{https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css}" >
<link href="https://fonts.googleapis.com/css?family=Baskervville|Josefin+Sans|Playfair+Display&display=swap" rel="stylesheet">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<title>Apply Jobs</title>
</head>
<body id="textchange">

       <div class="row">
       <div class=" col-md-8 col-lg-offset-3 mx-auto">
       <div class="col-xs-12 divider text-center">
         			<br> <br>
    	  <img class="imgstyle" src="/images/thislogo.png" alt="logo">
 			 <br> <br>   <br>
                     <h4 class="homejob">View Jobs </h4>
                     
            </div>
                     
            
            <div class="bs-example">
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a href="#viewalljob" class="nav-link active" data-toggle="tab">All Jobs</a>
        </li>
        <li class="nav-item">
            <a href="#viewskilljob" class="nav-link" data-toggle="tab">Skill Based Jobs</a>
        </li>
          <li class="nav-item">
            <a href="#viewleveljob" class="nav-link" data-toggle="tab">Level Based Jobs</a>
        </li>
        <li class="nav-item">
            <a href="#viewbujob" class="nav-link" data-toggle="tab">BU Based Jobs</a>
        </li>
    </ul>
      <div class="tab-content">
        <div class="tab-pane fade show active" id="viewalljob">
           
            
           <div class="col-xs-12 divider text-center">
   
               <div th:if="${param.success}">
                    <div class="alert alert-info">You've successfully Applied for the Job.</div>
                </div>
                 <div th:if="${param.error}">
                    <div class="alert alert-danger">Sorry! You've have already Applied for the Job.</div>
                </div>
                
        <div th:switch="${jobs}" >
           
            <div class="col-md-13">
                <h2 th:case="null">No record found !!</h2>
                <div th:case="*">
                     <br>
         <input class="form-control" type="text" id="myInput" onkeyup="myFunction()" placeholder="Search by job names.." title="Type in a name">
             <br>       
    
                
                
                    <table class="table table-striped table-responsive-md" id="myTable">
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Exp(yrs)</th>
                                <th>Level</th>
                                <th>BU</th>
                                <th>Skill-set</th>
                                <th>Vacancy</th>
                                <th>Job Location</th>
                                <th>Description</th>
                                <th>Apply</th>
                            </tr>
                        </thead>
                        <tbody>
                            
                            
                            <tr th:each="job : ${jobs}">
                            
                            
                                <td th:text="${job.title}"></td>
                                <td th:text="${job.exp}"></td>
                                <td th:text="${job.level}"></td>
                                  <td th:text="${job.bu}"></td>
                                   <td><p  th:each="jskill: ${job.skills}">
                              <span th:text="${jskill.name}"></span></p>
                             
                             </td> 
                                <td th:text="${job.location}"></td>
                                <td th:text="${job.vacancy}"></td>
                                <td th:text="${job.des}"></td>
                                <td>
                                  <a th:href="@{/employee/apply/{id}(id=${job.id})}"
                                             class="btn btn-primary">
                                       <button class="btn btn-primary">Apply</button>
                                    
                                    </a>
                                </td>
                                
                                 
                            
                            </tr>
                        </tbody>
                    </table>
                </div>
 
            </div>
        </div>
</div>

</div>
     <div class="tab-pane fade" id="viewskilljob">
     
            
            
           <div class="col-xs-12 divider text-center">
   
               <div th:if="${param.success}">
                    <div class="alert alert-info">You've successfully Applied for the Job.</div>
                </div>
                 <div th:if="${param.error}">
                    <div class="alert alert-danger">Sorry! You've have already Applied for the Job.</div>
                </div>
                
        <div th:switch="${skilljobs}" >
           
            <div class="col-md-13">
                <h2 th:case="null">No record found !!</h2>
                <div th:case="*">
                     <br>
         <input class="form-control" type="text" id="myInput" onkeyup="myFunction()" placeholder="Search by job names.." title="Type in a name">
             <br>       
    
                
                
                    <table class="table table-striped table-responsive-md" id="myTable">
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Exp(yrs)</th>
                                <th>Level</th>
                                <th>BU</th>
                                <th>Skill-set</th>
                                <th>Vacancy</th>
                                <th>Job Location</th>
                                <th>Description</th>
                                <th>Apply</th>
                            </tr>
                        </thead>
                        <tbody>
                            
                            
                            <tr th:each="job : ${skilljobs}">
                            
                            
                                <td th:text="${job.title}"></td>
                                <td th:text="${job.exp}"></td>
                                <td th:text="${job.level}"></td>
                                 <td th:text="${job.bu}"></td>
                                   <td><p  th:each="jskill: ${job.skills}">
                              <span th:text="${jskill.name}"></span></p>
                             
                             </td> 
                                <td th:text="${job.location}"></td>
                                <td th:text="${job.vacancy}"></td>
                                <td th:text="${job.des}"></td>
                                <td>
                                  <a th:href="@{/employee/apply/{id}(id=${job.id})}"
                                             class="btn btn-primary">
                                       <button class="btn btn-primary">Apply</button>
                                    
                                    </a>
                                </td>
                                
                                 
                            
                            </tr>
                        </tbody>
                    </table>
                </div>
 
            </div>
        </div>
</div>
     
     
     </div>
     
     <div class="tab-pane fade" id="viewleveljob">
     
            
            
           <div class="col-xs-12 divider text-center">
   
               <div th:if="${param.success}">
                    <div class="alert alert-info">You've successfully Applied for the Job.</div>
                </div>
                 <div th:if="${param.error}">
                    <div class="alert alert-danger">Sorry! You've have already Applied for the Job.</div>
                </div>
                
        <div th:switch="${leveljobs}" >
           
            <div class="col-md-13">
                <h2 th:case="null">No record found !!</h2>
                <div th:case="*">
                     <br>
         <input class="form-control" type="text" id="myInput" onkeyup="myFunction()" placeholder="Search by job names.." title="Type in a name">
             <br>       
    
                
                
                    <table class="table table-striped table-responsive-md" id="myTable">
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Exp(yrs)</th>
                                <th>Level</th>
                                <th>BU</th>
                                <th>Skill-set</th>
                                <th>Vacancy</th>
                                <th>Job Location</th>
                                <th>Description</th>
                                <th>Apply</th>
                            </tr>
                        </thead>
                        <tbody>
                            
                            
                            <tr th:each="job : ${leveljobs}">
                            
                            
                                <td th:text="${job.title}"></td>
                                <td th:text="${job.exp}"></td>
                                <td th:text="${job.level}"></td>
                                 <td th:text="${job.bu}"></td>
                                   <td><p  th:each="jskill: ${job.skills}">
                              <span th:text="${jskill.name}"></span></p>
                             
                             </td> 
                                <td th:text="${job.location}"></td>
                                <td th:text="${job.vacancy}"></td>
                                <td th:text="${job.des}"></td>
                                <td>
                                  <a th:href="@{/employee/apply/{id}(id=${job.id})}"
                                             class="btn btn-primary">
                                       <button class="btn btn-primary">Apply</button>
                                    
                                    </a>
                                </td>
                                
                                 
                            
                            </tr>
                        </tbody>
                    </table>
                </div>
 
            </div>
        </div>
</div>
     
     
     </div>
     
     
     
        <div class="tab-pane fade" id="viewbujob">
     
            
            
           <div class="col-xs-12 divider text-center">
   
               <div th:if="${param.success}">
                    <div class="alert alert-info">You've successfully Applied for the Job.</div>
                </div>
                 <div th:if="${param.error}">
                    <div class="alert alert-danger">Sorry! You've have already Applied for the Job.</div>
                </div>
                
        <div th:switch="${bujobs}" >
           
            <div class="col-md-13">
                <h2 th:case="null">No record found !!</h2>
                <div th:case="*">
                     <br>
         <input class="form-control" type="text" id="myInput" onkeyup="myFunction()" placeholder="Search by job names.." title="Type in a name">
             <br>       
    
                
                
                    <table class="table table-striped table-responsive-md" id="myTable">
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Exp(yrs)</th>
                                <th>Level</th>
                                <th>BU</th>
                                <th>Skill-set</th>
                                <th>Vacancy</th>
                                <th>Job Location</th>
                                <th>Description</th>
                                <th>Apply</th>
                            </tr>
                        </thead>
                        <tbody>
                            
                            
                            <tr th:each="job : ${bujobs}">
                            
                            
                                <td th:text="${job.title}"></td>
                                <td th:text="${job.exp}"></td>
                                <td th:text="${job.level}"></td>
                                 <td th:text="${job.bu}"></td>
                                   <td><p  th:each="jskill: ${job.skills}">
                              <span th:text="${jskill.name}"></span></p>
                             
                             </td> 
                                <td th:text="${job.location}"></td>
                                <td th:text="${job.vacancy}"></td>
                                <td th:text="${job.des}"></td>
                                <td>
                                  <a th:href="@{/employee/apply/{id}(id=${job.id})}"
                                             class="btn btn-primary">
                                       <button class="btn btn-primary">Apply</button>
                                    
                                    </a>
                                </td>
                                
                                 
                            
                            </tr>
                        </tbody>
                    </table>
                </div>
 
            </div>
        </div>
</div>
     
     
     </div>
     
     
     
     </div>
     </div>
     
     
     
 
	    <div class="col-md-6 col-xs-12 text-center mx-auto">
	     <div class="m-2">  
			<a th:href="@{/}"><button class=" btn btn-primary widthbtn" >Back To Home</button></a>
			</div>
			 <div class=" m-2">                  
                 <a th:href="@{/logout}"><button type="button" class="btn btn-warning  widthbtn">
                   <span class="fa fa-warning "></span>Log Out </button></a>
                </div>       
                <br>
		</div>
		</div>
		</div>
	 <script type="text/javascript"
		th:src="@{/webjars/jquery/3.2.1/jquery.min.js/}"></script>
	<script type="text/javascript"
		th:src="@{/webjars/bootstrap/3.3.7/js/bootstrap.min.js}"></script> 
		
<script>

function myFunction() {
	  var input, filter, table, tr, td, i, txtValue;
	  input = document.getElementById("myInput");
	  filter = input.value.toUpperCase();
	  table = document.getElementById("myTable");
	  tr = table.getElementsByTagName("tr");
	  for (i = 0; i < tr.length; i++) {
	    td = tr[i].getElementsByTagName("td")[0];
	    if (td) {
	      txtValue = td.textContent || td.innerText;
	      if (txtValue.toUpperCase().indexOf(filter) > -1) {
	        tr[i].style.display = "";
	      } else {
	        tr[i].style.display = "none";
	      }
	    }       
	  }
	}






</script>
		

</body>
</html>