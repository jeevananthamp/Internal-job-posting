<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Admin</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" th:href="@{/css/systems.css}"/>
<link rel="stylesheet" th:href="@{https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css}" >
<link href="https://fonts.googleapis.com/css?family=Baskervville|Josefin+Sans|Playfair+Display&display=swap" rel="stylesheet">
  
 

 <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">

<style>
	.bs-example{
    	margin: 20px;
    }
</style>
</head>
<body id="textchange">
 <div class="col-xs-12 divider text-center">
         			<br> <br>
    	  <img class="imgstyle" src="/images/thislogo.png" alt="logo">
    	  
                  
    	  
 		</div>
<div class="bs-example">
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a href="#job" class="nav-link active" data-toggle="tab">Post Jobs</a>
        </li>
        <li class="nav-item">
            <a href="#view" class="nav-link" data-toggle="tab">View all Applicants </a>
        </li>
    </ul>
      <div class="tab-content">
        <div class="tab-pane fade show active" id="job">
           
    <div class="container my-3">
    <div class="card cardgradient border-0">
    
    
              <div th:if="${param.successedit}">
                        <div class="alert alert-info">You have Successfully Updated the Job.
                        </div>
                    </div>
                    <div th:if="${param.successdelete}">
                        <div class="alert  alert-danger ">You have Successfully Deleted the Job. .</div>
                    </div>
                    
    
    <div class="card-body">
        <div th:switch="${jobs}" class="container my-7">
            <p class="my-4">
            
                <a href="/admin/edit" class="btn btn-primary">
                <i class="fas fa-user-plus ml-2"> Add Job </i></a>
            </p>
            <div class="col-md-13">
                <h2 th:case="null">No record found !!</h2>
                <div th:case="*">
                    <table class="table table-striped table-responsive-md">
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Exp(yrs)</th>
                                <th>Level</th>
                                <th>Skill-set</th>
                                <th>Vacancy</th>
                                <th>Job Location</th>
                                <th>Description</th>
                                <th>Edit</th>
                                <th>Delete</th>
                                <th>View Applicants</th>
                               
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="job : ${jobs}">
                                <td th:text="${job.title}"></td>
                                <td th:text="${job.exp}"></td>
                                <td th:text="${job.level}"></td>
                                <td th:text="${job.skill_set}"></td>
                                <td th:text="${job.vacancy}"></td>
                                 <td th:text="${job.location}"></td>
                                <td th:text="${job.des}"></td>
                                <td>
                                  <a th:href="@{/admin/edit/{id}(id=${job.id})}"
                                             class="btn btn-primary">
                                        <i class="fas fa-user-edit ml-2"></i>
                                    </a>
                                </td>
                                <td>
                                    <a th:href="@{/admin/delete/{id}(id=${job.id})}"
                                              class="btn btn-primary">
                                        <i class="fas fa-user-times ml-2"></i>
                                    </a>
                                </td>
                             <td>
                                  <a th:href="@{/admin/view/{id}(id=${job.id})}"
                                             class="btn btn-primary">
                                        <i class="fa fa-eye
                                        "></i>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
 
            </div>
        </div>
    </div>
    </div>
    </div>
    
     </div>
         <div class="tab-pane fade" id="view">
             
 
           
        <div th:switch="${applyjob}" class="container my-7">    
          
          
        <div class="col-md-13">
         <div th:case="*">
         
         <br>
         <input class="form-control" type="text" id="myInput" onkeyup="myFunction()" placeholder="Search by job names.." title="Type in a name">
             <br>       
               <div class="divstyle">   
                    <table class="table table-striped table-responsive-md"  id="myTable">
                        <thead  >
                            <tr>
                                
                                
                              
                                <th>Job-Title</th>
                                <th>Applicant-Id</th>
                                <th>Applicant-Name</th>
                                <th>Applicant-Level</th>
                                 <th>Applicant-Email</th>
                                <th>Applicant-Skills</th>
                                <th>Applicant-Domain</th>
                                <th>Applicant-Location</th>
                                
                            </tr>
                        </thead>
                        <tbody >
                       
                            <tr th:each=" apply: ${applyjob}">
                                
                                <td th:text="${apply.jobtitle}"></td>
                                <td th:text="${apply.empid}"></td>
                                <td th:text="${apply.ename}"></td>
                                <td th:text="${apply.level}"></td>
                                <td th:text="${apply.email}"></td>
                                <td th:text="${apply.skillset}"></td>
                                <td th:text="${apply.domain}"></td>
                                <td th:text="${apply.location}"></td>
     
                            </tr>
                        </tbody>
                    </table>
                </div></div>
     </div>  
     </div>
     
     
      </div>
    </div>
</div>
 
 
  <div class="row">
       <div class="col-md-offset-2 col-md-8 col-lg-offset-3 col-lg-6 mx-auto">
    
	    <div class="col-sx-12  text-center ">
	     <div class="col-sx-12 col-sm-6 emphasis mx-auto" style="margin:.5rem" >  
			<a th:href="@{/}"><button class="form-control btn btn-primary" >Back To Home</button></a>
			</div>
			 <div class="col-xs-12 col-sm-6  emphasis mx-auto">                  
                 <a th:href="@{/logout}"><button type="button" class="btn btn-warning btn-block">
                   <span class="logout-button "></span> Log Out </button></a>
                </div>    
		
		<br>
		</div>
		</div>
		</div>
<script>

function myFunction() {
	  var input, filter, table, tr, td, i, txtValue;
	  input = document.getElementById("myInput");
	  filter = input.value.toUpperCase();
	  table = document.getElementById("myTable");
	  tr = table.getElementsByTagName("tr");
	  for (i = 0; i < tr.length; i++) {
	    td = tr[i].getElementsByTagName("td")[0];
	    if (td) {
	      txtValue = td.textContent || td.innerText;
	      if (txtValue.toUpperCase().indexOf(filter) > -1) {
	        tr[i].style.display = "";
	      } else {
	        tr[i].style.display = "none";
	      }
	    }       
	  }
	}






</script>

</body>
</html>                            
  